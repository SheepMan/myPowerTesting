(function(width, height, interval){


    // This fails with a parse error for some reason
    // $.ajax("<%= @data_url %>",
    //	    { crossDomain : true, dataType : 'jsonp'})
    //	.success(function(data){ console.log(data) })
    //	.fail( function(_, textError){ throw textError });

    // use this temporarily
    var data = <%=raw @data %>;

    // change unix timestamp to date objects,
    // only for human readilibty, possibly be userful in the future
    (function toDate(data){
	for(i in data){
	    for(j in data[i].Readings){
		data[i].Readings[j].push(new Date(data[i].Readings[j][0]));
	    };
	};
    })(data);

})( <%= @width %>, <%= @height %>, "<%= @interval %>" );
